<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	template="/public/template_initial.xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:o="http://omnifaces.org/ui">
	  	  
	<!-- META DEFINE -->
	<ui:define name="meta">
	   	<meta http-equiv="cache-control" content="max-age=0" />
	    <meta http-equiv="cache-control" content="no-cache" />
	    <meta http-equiv="expires" content="0" />
	    <meta http-equiv="pragma" content="no-cache" />
	</ui:define>
	
	<ui:define name="css">
		<!-- theme stylesheet venda -->
   		<h:outputStylesheet library="css" name="style.blue.css" id="theme-stylesheet"/>
	</ui:define>
 
	<!-- TOP BAR DEFINE -->
	<ui:define name="top_bar">
		<ui:include src="/private/brinde/top_bar-brinde.xhtml"/>
	</ui:define>
  
  	<!-- NAV BAR DEFINE -->
	<ui:define name="nav_bar">
		<ui:include src="/private/brinde/nav_bar-brinde.xhtml"/>
	</ui:define>	

	<!-- CONTENT DEFINE -->
	<ui:define name="page_content">	
		<div id="content">
            <div class="container">

                <div class="col-md-12">
                    <ul class="breadcrumb">
                        <li><a href="./index.xhtml">Home</a>
                        </li>
                        <li>Listagem de brindes da pesquisa
                        </li>
                    </ul>

                </div>
                
                <h:form
                	id="frm-listagem">

					<o:commandScript name="urlPesquisaPorValor" 
						action="${pesquisaBrindeBean.filtraBrindesPorValor()}"
						render="@form"/>                	
                
	                <div class="col-md-12">
	                	
	                	<h:messages 
				    	  	id="messages"
					      	errorClass="alert alert-block alert-danger fade in"
				     	 	style="padding-left:0px"
				     	 	globalOnly="true"/>   
				    </div>
	                
	                <div class="col-md-3">
	                    <!-- *** MENUS AND FILTERS ***	 _________________________________________________________ -->
	                    <div class="panel panel-default sidebar-menu">
	
	                        <div class="panel-heading">
	                            <h3 class="panel-title">Categorias</h3>
	                        </div>
	
	                        <div class="panel-body">
	                        	<div class="col-md-6">
		                            	<div class="col-brinde eletro">
		                            		<i class="fa fa-coffee fa-5x" aria-hidden="true"></i>
		                            	</div>
		                            	<div class="col-brinde peca">
		                            		<i class="fa fa-gift fa-5x" aria-hidden="true"></i>
		                            	</div>
		                         </div>   	
                        		<div class="col-md-6">
		                            	<div class="col-brinde casa">
		                            		<i class="fa fa-camera-retro fa-5x" aria-hidden="true"></i>
		                            	</div>
		                            	<div class="col-brinde game">
		                            		<i class="fa fa-gamepad fa-5x" aria-hidden="true"></i>
		                            	</div>
		                         </div>   			                         
  			                         	                            
	                        </div>
	                    </div>
	                    
	                </div> <!-- /.col-md 3 -->
	                    
					<div class="col-md-9">
					    
					    <h:panelGroup
					    	id="panel-produtos"
					    	rendered="#{pesquisaBrindeBean.brindes.size() gt 0}">
					    	
						    <div class="row products">
						
					            <ui:repeat 
					            	var="brinde" 
					            	value="#{pesquisaBrindeBean.brindes}">				
						
							        <div class="col-md-4 col-sm-6">
							            
							            <div class="product">
							                <div class="flip-container">
							                    
							                    <div class="flipper">
							                    
							                        <div class="front">
							                            <a href="./brinde-detail.xhtml?paramCodigo=#{brinde.codigo}">
							                                <img src="#{props.serverImageName()}/imagens/meu-espaco/#{brinde.buscaFotoPeloIndice(1)}" class="img-responsive" alt="#{brinde.buscaFotoPeloIndice(1)}" />
							                            </a>
							                        </div>
							                        <div class="back">
							                            <a href="./brinde-detail.xhtml?paramCodigo=#{brinde.codigo}">
							                                <img src="#{props.serverImageName()}/imagens/meu-espaco/#{brinde.buscaFotoPeloIndice(2)}" class="img-responsive" alt="" />
							                            </a>
							                        </div>
							                    </div>
							                </div>
							                <a href="../brinde/brinde-detail.xhtml?paramCodigo=#{brinde.codigo}" class="invisible">
							                    <img src="#{props.serverImageName()}/imagens/meu-espaco/#{brinde.buscaFotoPeloIndice(1)}" class="img-responsive" alt="" />
							                </a>
							                <div class="text">
							                    <h3><a href="./brinde-detail.xhtml?paramCodigo=#{brinde.codigo}">#{brinde.descricao}</a></h3>
							                    <p class="price">#{brinde.codigoInterno}</p>
							                    <p class="buttons">
							                        <a href="./brinde-detail.xhtml?paramCodigo=#{brinde.codigo}" class="btn btn-default">Detalhes</a>
							                    </p>
							                </div>
							                <!-- /.text -->
							            </div>
							            <!-- /.product -->
							            
							        </div>
							        <!-- /.col-md-4 -->
						        </ui:repeat>
						    </div>
						    <!-- /.products -->
						
						</h:panelGroup>
						<!-- /#panel-produtos -->
						
						
					</div>
					<!-- /.col-md-9 -->	
					
				</h:form> <!-- /.frm-listagem -->

            </div>
            <!-- /.container -->
        </div>
        <!-- /#content -->	
	</ui:define>
	<!-- END OF DEFINE CONTENT -->
	
	<!-- DEFINE FOOTER -->
	<ui:define name="footer">
	   	<ui:include src="/public/footer.xhtml" />
	</ui:define>
	<!-- END OF DEFINE FOOTER -->
	   
	<!-- DEFINE SCRIPT -->
	<ui:define name="script">
		<script> 
			
			var mySlider = $("#ex2").slider({});
			var min = 0;
			var max = 0;
			
			mySlider.on("slide", function(sliderValue) {
				$('#min').text(sliderValue.value[0]);
				$('#max').text(sliderValue.value[1]);			
			});			

			mySlider.on("slideStop", function(sliderValue) {
				urlPesquisaPorValor({ min : sliderValue.value[0], max : sliderValue.value[1]});
			});			
		</script>	
	</ui:define>
	<!-- END OF DEFINE SCRIPT -->			
			
</ui:composition>
