<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
	  template="/public/template_initial.xhtml"
	  xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	  xmlns:f="http://java.sun.com/jsf/core">
 
	<!-- TOP BAR DEFINE -->
	<ui:define name="top_bar">
		<ui:include src="/public/top_bar-logged.xhtml"/>
	</ui:define>
  
  	<!-- NAV BAR DEFINE -->
	<ui:define name="nav_bar">
		<ui:include src="/public/nav_bar-logged.xhtml"/>
	</ui:define>	

	<!-- CONTENT DEFINE -->
	<ui:define name="page_content">	

		<div id="content">
            <div class="container">

                <div class="col-md-12">
                
                    <ul class="breadcrumb">
                        <li><a href="#">Home</a>
                        </li>
                        <li>Meus créditos</li>
                    </ul>
                    
                </div>
                
                <h:form>
				
					<div class="col-md-12" id="box-mensagem">
					    <div class="box">
					        <p>Créditos de comissão organizados por mês gerados pelas equipes.</p>
					    </div>
					</div>
					<!-- ./#box-mensagem -->			
				
	                <div class="col-md-12">
	                
	               	 <div class="box">
	               	 
		                    <ul class="nav nav-tabs">
		                    
		                    	<ui:repeat var="mes" value="#{listagemCreditosBean.meses}" varStatus="status">

		                    		<li class="${status.last ? 'active' : ''}" pt:role="presentation">
		                    			<a jsfc="h:commandLink">#{mes}
		                    			
		                    				<f:ajax/>
		                    				<f:passThroughAttribute name="data-toggle" value="tab" />
											<f:passThroughAttribute name="data-target" value="##{mes}" />
		                    			</a>
		                    		</li>
		                    	
		                    	</ui:repeat>
							
							</ul>
							
							<div class="tab-content clearfix">
								<ui:repeat var="mes" value="#{listagemCreditosBean.meses}" varStatus="status">
									<div class="tab-pane ${status.last ? 'active' : ''}" id="#{mes}">
									
										<div class="table-responsive">
								          	
								          	<table class="table table-striped table-advance table-hover">
								          		<thead>
								          			<tr>
										          		<th>Equipe</th>
										          		<th>Valor</th>
										          		<th>Crédito/Débito</th>
										          		<th>Situação</th>
									          		</tr>
								          		</thead>
								          		
								          		<tbody>
								          			<ui:repeat var="cred" value="#{listagemCreditosBean.listagem.creditos}">
								          				<tr>
								          					<td>#{cred.nome}</td>
								          					<td>
								          						<h:outputText value="#{cred.valor}">
								          							<f:convertNumber locale="pt_BR" type="currency"/>
								          						</h:outputText>
								          					</td>
								          					<td>#{cred.soma ? '+' : '-'}</td>
								          					<td></td>
								          				</tr>
								          			</ui:repeat>
								          		</tbody>
								          		
								          		<tfoot>
								          			<tr>
								          				<td colspan="4" style="text-align: left">
								          					Total:
							          						<h:outputText value="#{listagemCreditosBean.listagem.saldo()}">
							          							<f:convertNumber locale="pt_BR" type="currency"/>
							          						</h:outputText>
								          				</td>
								          			</tr>
								          		</tfoot>
											</table>
										</div>
									</div>
								</ui:repeat>
							</div>
												
				
						</div> <!-- /.box -->   
		   			</div>
		   			<!-- /.col-md-9 -->     
		   			
		   		</h:form>               
                    
            </div>
            <!-- /.container -->
        </div>
        <!-- /#content -->		
	
	</ui:define>
	<!-- END OF DEFINE CONTENT -->
	
	<!-- DEFINE FOOTER -->
	<ui:define name="footer">
	   	<ui:include src="/public/footer.xhtml" />
	</ui:define>
	<!-- END OF DEFINE FOOTER -->
	   
	<!-- DEFINE SCRIPT -->
	<ui:define name="script">
	</ui:define>
	<!-- END OF DEFINE SCRIPT -->			
			
</ui:composition>
